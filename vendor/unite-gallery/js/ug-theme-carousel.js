function UGTheme_carousel(){var e,t,n,i,a,o,l,r,u=new UniteGalleryMain,s=new UGLightbox,g=new UGCarousel,_=new UGFunctions,h=new UGTileDesign,c=new UG_API,v={theme_gallery_padding:0,theme_carousel_align:"center",theme_carousel_offset:0,theme_enable_navigation:!0,theme_navigation_position:"bottom",theme_navigation_enable_play:!0,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_navigation_margin:20,theme_space_between_arrows:5},d={gallery_width:"100%",tile_width:160,tile_height:160,tile_enable_border:!0,tile_enable_outline:!0,carousel_vertical_scroll_ondrag:!0};function m(){var e=u.getSize().width;return e-=2*v.theme_gallery_padding}function f(){var t,r=(t=g.getEstimatedHeight(),i&&(t+=i.height()+v.theme_navigation_margin),t);n.height(r);var _=m();!function(){i&&(g.setScrollLeftButton(o),g.setScrollRightButton(a),l&&g.setPlayPauseButton(l));e.on(u.events.SIZE_CHANGE,b),e.on(u.events.GALLERY_BEFORE_REQUEST_ITEMS,w),jQuery(h).on(h.events.TILE_CLICK,E),e.on(c.events.API_INIT_FUNCTIONS,T)}(),g.setMaxWidth(_),g.run(),s.run(),y()}function p(){!function(){if(n.addClass("ug-theme-carousel"),g.setHtml(n),1==v.theme_enable_navigation){var e="<div class='ug-tile-navigation-wrapper' style='position:absolute'>";e+="<div class='ug-button-tile-navigation ug-button-tile-left'></div>",1==v.theme_navigation_enable_play&&(e+="<div class='ug-button-tile-navigation ug-button-tile-play'></div>"),e+="<div class='ug-button-tile-navigation ug-button-tile-right'></div>",e+="</div>",n.append(e),i=n.children(".ug-tile-navigation-wrapper"),a=i.children(".ug-button-tile-left"),o=i.children(".ug-button-tile-right"),a.css("margin-right",v.theme_space_between_arrows+"px"),1==v.theme_navigation_enable_play&&(l=i.children(".ug-button-tile-play")).css("margin-right",v.theme_space_between_arrows+"px")}s.putHtml(),n.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),(r=n.children(".ug-tiles-preloader")).fadeTo(0,0)}(),f()}function y(){var e=g.getElement(),t=_.getElementSize(e),a=0;if(i){var o=_.getElementSize(i);a=o.height}var l=t.height;a>0&&(l+=v.theme_navigation_margin+a);var u=0;if(i){var s=t.height+v.theme_navigation_margin;"top"==v.theme_navigation_position&&(u=o.height+v.theme_navigation_margin,s=0)}_.placeElement(e,v.theme_carousel_align,u,v.theme_carousel_offset,0);t=_.getElementSize(e);if(i){var h=t.left+_.getElementRelativePos(i,v.theme_navigation_align,v.theme_navigation_offset_hor,e);_.placeElement(i,h,s)}n.height(l),_.placeElement(r,"center",50)}function E(e,t){t=jQuery(t);var n=h.getItemByTile(t).index;s.open(n)}function b(){var e=m();g.setMaxWidth(e),g.run(),y()}function w(){g.stopAutoplay(),g.getElement().hide(),i&&i.hide(),r.fadeTo(0,1)}function T(e,t){t.carouselStartAutoplay=function(){g.startAutoplay()},t.carouselStopAutoplay=function(){g.stopAutoplay()},t.carouselPause=function(){g.pauseAutoplay()},t.carouselUnpause=function(){g.unpauseAutoplay()},t.scrollLeft=function(e){g.scrollLeft(e)},t.scrollRight=function(e){g.scrollRight(e)}}this.destroy=function(){i&&(_.destroyButton(o),_.destroyButton(a),l&&_.destroyButton(l)),e.off(u.events.SIZE_CHANGE),jQuery(h).off(h.events.TILE_CLICK),e.off(u.events.GALLERY_BEFORE_REQUEST_ITEMS),g.destroy(),s.destroy()},this.run=function(){p()},this.init=function(i,a){var o,l;l=a,u=o=i,v=jQuery.extend(v,d),v=jQuery.extend(v,l),u.setOptions(v),u.setFreestyleMode(),t=o.getObjects(),e=jQuery(o),n=t.g_objWrapper,s.init(o,v),g.init(o,v),h=g.getObjTileDesign()}}"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("carousel"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("carousel")});